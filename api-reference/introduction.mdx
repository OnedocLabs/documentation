---
title: 'Introduction'
description: 'API endpoints for document generation'
---

## Welcome

You can fin the open API JSON file below.

<Card
  title="Onedoc API endpoints"
  icon="leaf"
  href="https://ondoclabs.com/api/api-doc"
>
  View the OpenAPI specification file
</Card>

## Authentication

All API endpoints are authenticated using an API key and picked up from the request header.

```json
"header": [
  {
    "x-api-key": "XXXX-XXXX-XXXX-XXXX-XXXX"
  }
]
```

## Usage

In order to render a document, intiate rending with [docs/initiate](/API-reference/endpoint/initiates-a-documents-rendering).

<CodeGroup>
```bash /api/docs/initiate usage
curl --location '/api/docs/initiate' \
--header 'Content-Type: application/json' \
--header 'Accept: application/json' \
--header 'x-api-Key: [API_KEY]' \
--data '{
  "assets": [
    {
      "path": "<string>",
      "content": "<string>|<Buffer>"
    },
    {
      "path": "<string>",
      "content": "<string>|<Buffer>"
    }
  ]
}'
```
</CodeGroup>
Then, upload all your assets to the paths you the specified in the intiate using the returned signed Urls. 
Uploading an asset using a signed Url consists in sending a `PUT` request with the token and the asset. For further help, see .
Below is a helper function to upload assets to a bucket using a signed Url for <b>Node JS</b>. This implementation is specific to [supabase](https://www.npmjs.com/package/@supabase/storage-js?activeTab=code), specifically in our URL and path management.

<CodeGroup>
```javascript uploadToSignedUrl
async function uploadToSignedUrl(
  urlToFS: string,
  path: string,
  token: string,
  fileBody: FileBody,
  fileOptions?: any
) {
  const url = new URL(urlToFS + `/object/upload/sign/${path}`);
  url.searchParams.set("token", token);

  try {
    let body;
    const options = { upsert: DEFAULT_FILE_OPTIONS.upsert, ...fileOptions };
    const headers: Record<string, string> = {
      ...{ "x-upsert": String(options.upsert as boolean) },
    };

    if (typeof Blob !== "undefined" && fileBody instanceof Blob) {
      body = new FormData();
      body.append("cacheControl", options.cacheControl as string);
      body.append("", fileBody);
    } else if (
      typeof FormData !== "undefined" &&
      fileBody instanceof FormData
    ) {
      body = fileBody;
      body.append("cacheControl", options.cacheControl as string);
    } else {
      body = fileBody;
      headers["cache-control"] = `max-age=${options.cacheControl}`;
      headers["content-type"] = options.contentType as string;
    }

    const res = await fetch(url.toString(), {
      method: "PUT",
      body: body as BodyInit,
      headers,
    });

    const data = await res.json();

    if (res.ok) {
      return {
        data: { path: path, fullPath: data.Key },
        error: null,
      };
    } else {
      const error = data;
      return { data: null, error };
    }
  } catch (error) {
    throw error;
  }
}
```
</CodeGroup>
Finally, generate your PDF document with /docs/generate.

<CodeGroup>
```bash /api/docs/generate usage
curl --location '//api/docs/generate' \
--header 'Content-Type: application/json' \
--header 'Accept: application/pdf' \
--header 'x-api-Key: [API_KEY]' \
--data '{
  "bucket": "<string>",
  "password": "<string>",
  "username": "<string>",
  "test": true,
  "save": false,
  "expiresIn": "<integer>"
}'
```
</CodeGroup>
